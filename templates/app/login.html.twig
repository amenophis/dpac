{% extends 'app/base.html.twig' %}

{% block title %}Log in!{% endblock %}

{% block body %}

<div class="px-3 py-10 flex justify-center">
    <div class="w-full max-w-xs">
        <form action="{{ path('login') }}" method="post" class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4">
            {% if error %}
                <div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
            {% endif %}

            {% if app.user %}
                <div class="mb-3">
                    You are logged in as {{ app.user.username }}, <a href="{{ path('logout') }}">Logout</a>
                </div>
            {% endif %}
            <div class="mb-4">
                <label class="block text-gray-700 text-sm font-bold mb-2 required" for="form_email">Email</label>
                <input type="text" id="form_email" name="email" required="required" autofocus value="{{ last_username }}" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
            </div>

            <div class="mb-4">
                <label class="block text-gray-700 text-sm font-bold mb-2 required" for="form_password">Password</label>
                <input type="password" id="form_password" name="password" required="required" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
            </div>

{#            <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">#}

            <button type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">Sign in</button>

        </form>
    </div>
</div>
{% endblock %}
